<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FarmBot - Controls</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-green-50 min-h-screen flex flex-col relative">

  <!-- Navbar -->
  <nav class="bg-green-700 text-white px-6 py-3 flex justify-between items-center shadow-md">
    <h1 class="text-xl md:text-2xl font-bold">🚜 FarmBot</h1>
    <button id="menu-btn" class="md:hidden text-3xl focus:outline-none">☰</button>
    <div id="menu" class="hidden md:flex gap-8 text-lg font-semibold">
      <a href="/" class="hover:text-yellow-300">Home</a>
      <a href="/control" class="hover:text-yellow-300 font-semibold">Controls</a>
      <a href="/moisture" class="hover:text-yellow-300">Moisture Data</a>
    </div>
  </nav>

  <!-- Dropdown menu for mobile -->
  <div id="dropdown" class="hidden bg-green-600 text-white text-lg md:hidden flex-col space-y-2 p-4">
    <a href="/" class="dropdown-item block w-full py-3 px-2 text-center bg-green-700 rounded-lg hover:bg-green-800">Home</a>
    <a href="/control" class="dropdown-item block w-full py-3 px-2 text-center bg-green-700 rounded-lg hover:bg-green-800">Controls</a>
    <a href="/moisture" class="dropdown-item block w-full py-3 px-2 text-center bg-green-700 rounded-lg hover:bg-green-800">Moisture Data</a>
  </div>

  <!-- Date & Time -->
  <div id="dateTime" class="absolute top-20 right-6 text-gray-700 font-semibold text-sm sm:text-base md:text-lg"></div>

  <!-- Content -->
  <div class="flex flex-col items-center justify-center flex-grow px-4">
    <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-10 text-green-900">⚙️ Servo Controls</h1>

    <div class="flex flex-col sm:flex-row gap-6 justify-center">
      <!-- Servo Up -->
      <button onclick="sendCommand('servo_up')"
        class="px-8 py-3 sm:px-10 sm:py-4 text-lg sm:text-xl md:text-2xl 
               bg-gradient-to-r from-blue-500 to-blue-700 text-white 
               rounded-full shadow-lg hover:scale-105 hover:shadow-xl 
               transform transition duration-200 ease-in-out">
        ⬆️ Servo Up
      </button>

      <!-- Servo Down -->
      <button onclick="sendCommand('servo_down')"
        class="px-8 py-3 sm:px-10 sm:py-4 text-lg sm:text-xl md:text-2xl 
               bg-gradient-to-r from-red-500 to-red-700 text-white 
               rounded-full shadow-lg hover:scale-105 hover:shadow-xl 
               transform transition duration-200 ease-in-out">
        ⬇️ Servo Down
      </button>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-green-700 text-white text-center py-4 mt-auto">
    <p class="text-sm sm:text-base">
      © 2025 FarmBot | Designed by <span class="font-semibold text-yellow-300">Team Krishinova</span>
    </p>
  </footer>

  <script>
    // Send servo commands
    async function sendCommand(cmd) {
      await fetch("/command", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: "action=" + cmd
      });
    }

    // Mobile menu toggle
    const btn = document.getElementById("menu-btn");
    const dropdown = document.getElementById("dropdown");
    btn.addEventListener("click", () => dropdown.classList.toggle("hidden"));
  </script>
</body>
</html>
